<!-- Not using the template (no nav bar, footer, etc.)
---
layout: default
---
-->

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <title>East Asian Relations Final Project</title>

    <!-- React -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/JSXTransformer.js"></script>

    <!-- Jquery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

    <!-- Javascript files -->
    <script src="data.js" type="text/javascript"></script>

    <!-- Javascript Libraries -->
    <script src="../libraries/TheaterJS-2.0.1/dist/theater.min.js"></script> <!-- TheaterJS -->

    <!-- Map -->
    <script src="../libraries/ammap/ammap.js" type="text/javascript"></script>
    <link rel="stylesheet" href="../libraries/ammap/ammap.css" type="text/css" media="all" />
    <script src="../libraries/ammap/maps/js/worldLow.js" type="text/javascript"></script>

    <!-- Stylesheet -->
    <link rel="stylesheet" href="../style/fontStyle.css">
    <link rel="stylesheet" href="../style/eastAsianLandingPage.css">
    <link rel="stylesheet" href="../style/eastAsianMain.css">
    <link rel="stylesheet" href="../style/header.css">

    <!-- Google Analytics -->
    <!-- Get google analytics on final site -->

    <!-- Favicon -->
    <!-- Add favicon later -->
  </head>
  <body>
    <!-- DIV that will be modified by ReactJS -->
    <div id="content"></div>

    <!-- ReactJS Code -->
    <!-- <script type="text/jsx;harmony=true" src="../Components/EastAsianRelations.js"> -->
    <script type="text/jsx;harmony=true">
      var EastAsianRelations = React.createClass({
        getInitialState: function() {
          return {
            data: pageData
          }
        },
        render: function() {
          var currentCountryIndex = 0;
          var countryData = this.state.data[currentCountryIndex]
          var articleNodes = countryData.articles.map(function(article) {
            return (
              <Article article={article} />
            )
          });
          return (
            <div>
              <Header data={countryData} />
              <WelcomeSection data={countryData}/>
              { articleNodes }
            </div>
          );
        }
      })

      var Article = React.createClass({
        render: function() {
          var title = this.props.article.title;
          var author = this.props.article.author;
          var paragraphNodes = this.props.article.content.map(function(paragraph) {
            return (
              <div className="ea-paragraph">
                { paragraph }
                <br className="ea-paragraph-br"/>
              </div>
            )
          })
          return (
            <div className="ea-article-div">
              <h1 className="ea-article-title">
                { title}
              </h1>
              <h3 className="ea-article-author">
                Written by: { author }
              </h3>
              <div className="ea-article-content">
                { paragraphNodes }
              </div>
            </div>
          )
        }
      })

      var Header = React.createClass({
        render: function() {
          var headerColor = this.props.data.themeColor;
          var headerStyle = { "backgroundColor": headerColor };
          return (
            <div className="site-header" style={ headerStyle }>
              <div className="site-title">
                <a><h1>East Asian Relations</h1></a>
              </div>

              <div className="main-menu">
                <a className="nav-link">Overview</a>
                <a className="nav-link">China</a>
                <a className="nav-link">Japan</a>
                <a className="nav-link">North Korea</a>
                <a className="nav-link">South Korea</a>
                <a className="nav-link">Sources</a>
              </div>
            </div>
          )
        }
      })

      var WelcomeSection = React.createClass({
        render: function() {
          var countryName = this.props.data.countryName;
          var countrySlogan = this.props.data.countrySlogan;
          var backgroundStyle = { "backgroundImage": "url(" + this.props.data.welcomeBackground + ")"}
          return (
            <span>
              <div className="ea-welcome" style={backgroundStyle}>
                <div className="ea-welcome-content">
                  <h1 className="ea-welcome-header">{ countryName }</h1>
                  <h3 className="ea-welcome-subheader"><i>{ countrySlogan }</i></h3>
                </div>
              </div>
              <div className="ea-welcome-filler"></div>
            </span>
          )
        }
      })

      React.render(
        React.createElement(EastAsianRelations, null),
        document.getElementById('content')
      );

    </script>
  </body>
</html>
